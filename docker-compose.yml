services:
  web:
    image: php:apache
    container_name: basic_apache_php
    
    ports:
      # Mantiene el mapeo de puerto
      - "8080:80" 
      
    # ðŸŒŸ NUEVO: Pasa la variable de Dokploy al contenedor
    environment:
      # Dokploy sustituirÃ¡ ${APACHE_SERVER_NAME} por su valor
      APACHE_SERVER_NAME: ${APACHE_SERVER_NAME} 
      
    volumes:
      - ./html:/var/www/html
      # ðŸŒŸ NUEVO: Monta el archivo de configuraciÃ³n en un lugar que Apache lee
      - ./server-name.conf:/etc/apache2/conf-enabled/server-name.conf
      
    restart: unless-stopped
